[[https://shurshun.ru/zabbix-optimizatsiya-i-chistka-bazyi-dannyih/][sql tables size]]
#+BEGIN_EXAMPLE
  SELECT
   RESULT.table_name,
   RESULT.freespace AS fororder,
   pg_size_pretty(RESULT.size) AS SIZE,
   pg_size_pretty(RESULT.freespace) AS freespace,
   RESULT.freespace * 100 / RESULT.size AS percent_free
   FROM
   (SELECT
   t.table_name,
   pg_total_relation_size(t.table_name) AS SIZE,
   SUM(s.avail) AS freespace
   FROM
   (SELECT TABLE_NAME FROM information_schema.tables WHERE table_schema = 'public') AS t,
   LATERAL pg_freespace(t.table_name) AS s
   GROUP BY
   t.table_name) AS RESULT
   ORDER BY
   fororder DESC
   LIMIT 20;
#+END_EXAMPLE

* Tools

- [[https://github.com/infostreams/db][infostreams/db: Version control for databases: save, restore, and archive snapshots of your database from the command line]]
- [[https://github.com/launchbadge/sqlx][launchbadge/sqlx: ðŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, and SQLite.]]

- [[https://vitobotta.com/2019/08/07/linstor-storage-with-kubernetes/][Linstor storage with Kubernetes]]

* Cheat sheet

- delete volume
  : linstor volume-definition delete pvc-0d2864b4-a71e-4073-b132-a58875433a75 0

- list volume definitions
  : linstor volume-definition list

- list volumes
  : kubectl linstor volume list

- list resource groups
  : linstor resource-group list

- list resources
  : linstor resource list

- list resource definitions
  : linstor resource-definition list

- manually create lvm thin volume
  : lvcreate -V 14G --thin -n pvc-2923a7b0-20c9-4676-bdcc-5998196980dc_00000 vg0/pool0

- drbd
  : kubectl exec -n piraeus -it pod/piraeus-piraeus-op-ns-node-gb756 -- /bin/bash

- drbd status
#+begin_example
  root@kube1:/# drbdadm status
  pvc-bfd7e627-5114-4130-b0e3-15d97ce38106 role:Secondary
    disk:UpToDate
    kube2 role:Secondary
      peer-disk:UpToDate
    kube7 role:Primary
      peer-disk:Diskless
#+end_example

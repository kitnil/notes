:PROPERTIES:
:ID:       ba8e53be-0c59-436f-8cb0-a1845f1086ad
:END:
#+title: DNS

* Learning
- [[https://www.youtube.com/watch?v=BO-c69AxSis][(10) ÑÑ‚Ñ€Ğ¸Ğ¼ Ğ±Ğ¾Ğ±ÑƒĞºĞ° dns Ğ½Ğ° redis 2021.01.29 - YouTube]]
- [[https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/][Anatomy of a Linux DNS Lookup â€“ Part I â€“ zwischenzugs]]
  - [[https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/][Anatomy of a Linux DNS Lookup â€“ Part II â€“ zwischenzugs]]
  - [[https://zwischenzugs.com/2018/07/06/anatomy-of-a-linux-dns-lookup-part-iii/][Anatomy of a Linux DNS Lookup â€“ Part III â€“ zwischenzugs]]
  - [[https://zwischenzugs.com/2018/08/06/anatomy-of-a-linux-dns-lookup-part-iv/][Anatomy of a Linux DNS Lookup â€“ Part IV â€“ zwischenzugs]]
  - [[https://zwischenzugs.com/2018/09/13/anatomy-of-a-linux-dns-lookup-part-v-two-debug-nightmares/][Anatomy of a Linux DNS Lookup â€“ Part V â€“ Two Debug Nightmares â€“ zwischenzugs]]
- [[https://github.com/mwarning/SimpleDNS][mwarning/SimpleDNS: A very simple and small DNS Server to help understanding the protocol basics.]]
- [[https://tech-geek.ru/generating-records-for-address-ranges-bind/][Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ Ğ´Ğ»Ñ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ¾Ğ² Ğ°Ğ´Ñ€ĞµÑĞ¾Ğ² BIND]]

* Implementations
- [[https://github.com/coredns/coredns][coredns/coredns: CoreDNS is a DNS server that chains plugins]]
- [[https://github.com/pymumu/smartdns][pymumu/smartdns: A local DNS server to obtain the fastest website IP for the best Internet experience, support DoT, DoH. ä¸€ä¸ªæœ¬åœ°DNSæœåŠ¡å™¨ï¼Œè·å–æœ€å¿«çš„ç½‘ç«™IPï¼Œè·å¾—æœ€ä½³ä¸Šç½‘ä½“éªŒï¼Œæ”¯æŒDoHï¼ŒDoTã€‚]]

* Tools
- [[https://github.com/0xERR0R/blocky][0xERR0R/blocky: Fast and lightweight DNS proxy as ad-blocker for local network with many features]]
- [[https://github.com/62726164/dns-exfil][62726164/dns-exfil: A program to exfiltrate files from a computer using the DNS]]
- [[https://github.com/aaronjanse/dns-over-wikipedia][aaronjanse/dns-over-wikipedia: Redirect `.idk` domains using the official link found on a topic's Wikipedia page]]
- [[https://github.com/AdguardTeam/AdGuardHome][AdguardTeam/AdGuardHome: Network-wide ads & trackers blocking DNS server]]
- [[https://github.com/baibhavanand/DAC][baibhavanand/DAC: DAC - Domain Availability Checker is a tool written in bash to help people find available domains from the comfort of their terminal. People can choose to pass one domain or wordlist to scan the availability from. People can also choose to store the output (List of available domains) in a different text file.]]
- [[https://github.com/BeryJu/gravity][BeryJu/gravity: Fully-replicated DNS and DHCP Server with ad-blocking powered by etcd]]
- [[https://github.com/blind-oracle/dnstap-bgp][blind-oracle/dnstap-bgp: Announce domains captured from DNSTap over BGP]]
- [[https://github.com/bschaatsbergen/dnsdialer][bschaatsbergen/dnsdialer: Multi-resolver DNS dialer for Go with race, fallback, and consensus strategies]]
- [[https://github.com/chenxiaolong/ddns-updater][chenxiaolong/ddns-updater: A simple RFC 2136 dynamic DNS updater]]
- [[https://github.com/cleanbrowsing/dnsperftest][cleanbrowsing/dnsperftest: DNS Performance test]]
- [[https://github.com/Control-D-Inc/ctrld][Control-D-Inc/ctrld: A highly configurable, multi-protocol DNS forwarding proxy]]
- [[https://github.com/devanshbatham/realm][devanshbatham/realm: A utility for recursively traversing SSL/TLS certificates for collecting DNS names]]
- [[https://github.com/DNSCrypt/dnscrypt-proxy][DNSCrypt/dnscrypt-proxy: dnscrypt-proxy 2 - A flexible DNS proxy, with support for encrypted DNS protocols.]]
- [[https://github.com/Dylnuge/dns-server-tests][Dylnuge/dns-server-tests: Some fun tests for DNS server implementers]]
- [[https://github.com/Edu4rdSHL/rusolver][Edu4rdSHL/rusolver: Fast DNS resolver written in Rust.]]
- [[https://github.com/Findomain/Findomain][Findomain/Findomain: The complete solution for domain recognition. Supports screenshoting, port scan, HTTP check, data import from other tools, subdomain monitoring, alerts via Discord, Slack and Telegram, multiple API Keys for sources and much more.]]
- [[https://github.com/gamelinux/passivedns][gamelinux/passivedns: A network sniffer that logs all DNS server replies for use in a passive DNS setup]]
- [[https://github.com/garywill/proxc][garywill/proxc: configure DNS/proxy for one process execution on Linux]]
- [[https://github.com/haccer/subjack][haccer/subjack: Subdomain Takeover tool written in Go]]
- [[https://github.com/hakluke/hakfindinternaldomains][hakluke/hakfindinternaldomains: Feed it a list of subdomains, it will resolve them and tell you which ones are internal]]
- [[https://github.com/hakluke/hakrevdns][hakluke/hakrevdns: Small, fast tool for performing reverse DNS lookups en masse.]]
- [[https://disnetern.ru/howto-nslookup-working-whith-dns/][Howto nslookup. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ”ĞĞ¡ | IT Knowledge Base]]
- [[https://github.com/IrineSistiana/mosdns][IrineSistiana/mosdns: æ’ä»¶åŒ–çš„"å¯ç¼–ç¨‹"çš„ DNS è½¬å‘å™¨ã€‚mosdns is a "programmable" DNS forwarder.]]
- [[https://github.com/jamespwilliams/dns-over-ping][jamespwilliams/dns-over-ping: DNS-over-ping(8)]]
- [[https://github.com/Janik-Haag/NixOS-DNS][Janik-Haag/NixOS-DNS: Manage your dns zones with NixOS]]
- [[https://gitlab.com/jaytuck/bind-rest-api][Jay Tuckey / bind-rest-api Â· GitLab]]
- [[https://github.com/Josue87/gotator][Josue87/gotator: Gotator is a tool to generate DNS wordlists through permutations.]]
- [[https://github.com/jtRIPper/dns-tcp-socks-proxy][jtripper/dns-tcp-socks-proxy: Simple daemon to tunnel DNS requests over SOCKS]]
- [[https://github.com/jvns/dns-doctor][jvns/dns-doctor: You give it a domain name where something is wrong, and it runs a bunch of checks to try to figure out the reason.]]
- [[https://github.com/jvns/dnspeep][jvns/dnspeep: spy on the DNS queries your computer is making]]
- [[https://github.com/jvns/tiny-resolver][jvns/tiny-resolver]]
- [[https://github.com/kirelagin/dns.nix][kirelagin/dns.nix: A Nix DSL for DNS zone files]]
- [[https://github.com/knadh/dns.toys][knadh/dns.toys: A DNS server that offers useful utilities and services over the DNS protocol.]]
  : dig moscow.time @dns.toys
  : dig moscow.weather @dns.toys
  : dig 1USD-RUB.fx @dns.toys
  : dig 10.0.0.0/24.cidr @dns.toys
  : dig 2001:db8::/108.cidr @dns.toys
- [[https://github.com/Luflosi/dyndnsd][Luflosi/dyndnsd: A simple but configurable web server for dynamic DNS updates]]
- [[https://github.com/m13253/dns-over-https][m13253/dns-over-https: High performance DNS over HTTPS client & server]]
- [[https://github.com/moloch--/godns][moloch--/godns: The God Name Server]]
- [[https://github.com/mosajjal/dnsmonster][mosajjal/dnsmonster: Passive DNS Capture and Monitoring Toolkit]]
- [[https://github.com/mr-karan/doggo][mr-karan/doggo: Command-line DNS Client for Humans. Written in Golang]]
- [[https://github.com/mschwager/fierce][mschwager/fierce: A DNS reconnaissance tool for locating non-contiguous IP space.]]
- [[https://github.com/musana/mx-takeover][musana/mx-takeover: mx-takeover focuses DNS MX records and detects misconfigured MX records.]]
- [[https://github.com/n0mi1k/subby][n0mi1k/subby: An uber fast and simple subdomain enumeration tool using DNS and web requests with support for detecting wildcard DNS records.]]
- [[https://github.com/nextdns/nextdns][nextdns/nextdns: NextDNS CLI client (DoH Proxy)]]
- [[https://github.com/nil0x42/dnsanity][nil0x42/dnsanity: High-performance DNS validator using template-based verification]]
- [[https://github.com/no-gravity/dns-here][no-gravity/dns-here: Run a temporary DNS server that resolves a given hostname to the current IP]]
- [[https://github.com/octodns/octodns][octodns/octodns: Tools for managing DNS across multiple providers]]
- [[https://github.com/one-d-wide/systemd-hosts.d][one-d-wide/systemd-hosts.d: Keep your hosts records in logically separated files]]
- [[https://wiki.archlinux.org/index.php/Openresolv][openresolv - ArchWiki]]
- [[https://github.com/pier-oliviert/phonebook][pier-oliviert/phonebook: Manage DNS Records with Kubernetes]]
- [[https://github.com/pirxthepilot/wtfis][pirxthepilot/wtfis: Passive host and domain name lookup tool for non-robots]]
- [[https://github.com/pmkol/mosdns-x][pmkol/mosdns-x: A high-performance DNS forwarding engine with a customizable pipeline.]]
- [[https://github.com/projectdiscovery/dnsx][projectdiscovery/dnsx: dnsx is a fast and multi-purpose DNS toolkit allow to run multiple DNS queries of your choice with a list of user-supplied resolvers.]]
- [[https://github.com/projectdiscovery/subfinder][projectdiscovery/subfinder: Subfinder is a subdomain discovery tool that discovers valid subdomains for websites. Designed as a passive framework to be useful for bug bounties and safe for penetration testing.]]
- [[https://github.com/publicsuffix/list][publicsuffix/list: The Public Suffix List]]
- [[https://github.com/pwnesia/dnstake][pwnesia/dnstake: DNSTake â€” A fast tool to check missing hosted DNS zones that can lead to subdomain takeover]]
- [[https://github.com/pymumu/smartdns][pymumu/smartdns: A local DNS server to obtain the fastest website IP for the best Internet experienceï¼Œ ä¸€ä¸ªæœ¬åœ°DNSæœåŠ¡å™¨ï¼Œè·å–æœ€å¿«çš„ç½‘ç«™IPï¼Œè·å¾—æœ€ä½³ä¸Šç½‘ä½“éªŒã€‚]]
- [[https://github.com/qdm12/ddns-updater][qdm12/ddns-updater: Container to update DNS records periodically with WebUI for many DNS providers]]
- [[https://github.com/qdm12/dns][qdm12/dns: Docker DNS server on steroids to access DNS-over-TLS from Cloudflare, Google, Quad9, Quadrant or CleanBrowsing]]
- [[https://github.com/rakyll/govalidate][rakyll/govalidate: Validates your Go installation and dependencies.]]
- [[https://github.com/Reeceeboii/Pi-CLI][Reeceeboii/Pi-CLI: Pi-hole data right from your terminal. Live updating view, query history extraction and more!]]
- [[https://github.com/sammwyy/mindns][sammwyy/mindns: Minimal DNS server built in Rust with rule system and logging.]]
- [[https://github.com/StackExchange/dnscontrol][StackExchange/dnscontrol: Synchronize your DNS to multiple providers from a simple DSL]]
- [[https://github.com/tomnomnom/assetfinder][tomnomnom/assetfinder: Find domains and subdomains related to a given domain]]
- [[https://github.com/trickest/resolvers][trickest/resolvers: The most exhaustive list of reliable DNS resolvers.]]
- [[https://github.com/Twixes/backname][Twixes/backname: ğŸŒ A DNS server where every IP address gets its own domain]]
- [[https://github.com/UlricQin/dns-lookup-latency][UlricQin/dns-lookup-latency: A tool to check dns lookup latency]]
- [[https://github.com/Valerian7/dns_capture][Valerian7/dns_capture]]
- [[https://github.com/Vyntral/god-eye][Vyntral/god-eye: AI-powered subdomain enumeration tool with local LLM analysis via Ollama - 100% private, zero API costs]]
- [[https://github.com/wws2058/intranet-dns][wws2058/intranet-dns: intranet dynamic dns manage service]]
- [[https://github.com/wyhaya/updns][wyhaya/updns: DNS proxy tool]]
- [[https://github.com/xuemian168/domain-scanner][xuemian168/domain-scanner: ã€åŸŸåæ‰«æå™¨ã€‘ä¸€ä¸ªç”¨Goè¯­è¨€ç¼–å†™çš„å¼ºå¤§ä¸”çµæ´»çš„åŸŸåæ³¨å†Œå¯ç”¨æ€§æ£€æŸ¥æ‰«æå·¥å…· A powerful and flexible domain name availability checker written in Go. This domain scanner helps you find available domain based on various patterns and filters.]]
- [[https://github.com/xxnuo/dns-benchmark][xxnuo/dns-benchmark: dnspy æ˜¯ä¸€ä¸ªæ‰¹é‡ DNS æœåŠ¡å™¨åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œç”¨äºæœ¬åœ°æµ‹é‡å…¨ä¸–ç•Œçš„ DNS æœåŠ¡å™¨çš„å¯è®¿é—®æ€§å’Œæ€§èƒ½ã€‚ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€‚dnspy is a bulk DNS server benchmarking tool used to measure the local accessibility and performance of DNS servers worldwide. It generates visual charts.]]
- [[https://github.com/yinheli/kungfu][yinheli/kungfu: Flexible DNS hijacking and proxy tool.]]
- [[https://github.com/znscli/zns][znscli/zns: CLI tool for querying DNS records with readable, colored output.]]

** DDoS
- [[https://github.com/thesc1ent1st/j0lt-ddos-tool][thesc1ent1st/j0lt-ddos-tool: Brutally effective DNS amplification DDOS tool. Will cripple a target machine from a single host.]]
- [[https://powerdns.org/dnsdist-md/dnsdist-diagrams.md.html][dnsdist fundamentals]]

** Services
- [[https://github.com/is-a-dev/register][is-a-dev/register: Grab your own sweet-looking '.is-a.dev' subdomain]]

- https://www.namecheap.com/

- [[https://www.gandi.net/en][Gandi.net: Domain Names, Web Hosting, SSL Certificates]]
Buy a domain name at a service like Gandi: https://www.gandi.net/.  They offer
free mail hosting for their subscribers

- majordomo.ru
ĞŸÑ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° Ğ² Ğ·Ğ¾Ğ½Ğµ .info Ğ±ÑƒĞ´ĞµÑ‚ 16 Ğ±Ğ°ĞºÑĞ¾Ğ² Ñ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ´Ğ¾ ÑĞ¾Ñ‚Ğ½Ğ¸ (1200 Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚).  Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾ ÑĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ñƒ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°.

** REST
- [[https://github.com/openstack/designate][openstack/designate: OpenStack DNS As A Service (Designate). Mirror of code maintained at opendev.org.]]

** Dynamic DNS
- [[https://github.com/theonemule/no-ip][theonemule/no-ip: A shell script that works as Dynamic Update Client (DUC) for noip.com]]
- [[https://github.com/theonemule/docker-dynamic-dns][docker-dynamic-dns]]

** Bind
- [[https://disnetern.ru/howto-dns-server-bind/][HOWTO DNS ÑĞµÑ€Ğ²ĞµÑ€ BIND | IT Knowledge Base]]

** PDNS
- [[https://github.com/tuxis-ie/nsedit][tuxis-ie/nsedit: DNS Editor working with PowerDNS's new API]]
- [[https://github.com/odoucet/pdns-gui][odoucet/pdns-gui: pdns-gui fork]]

** Recursive
- [[https://github.com/NLnetLabs/unbound][NLnetLabs/unbound: Unbound is a validating, recursive, and caching DNS resolver.]]

** Unbound
- [[https://vermaden.wordpress.com/2020/11/18/unbound-dns-blacklist/][Unbound DNS Blacklist | ğšŸğšğš›ğš–ğšŠğšğšğš—]]

* Learning
- [[https://www.go350.com/posts/exfiltrate-files-using-the-dns/][Exfiltrate files using the DNS | Go350]]
- [[https://00f.net/2019/11/03/stop-using-low-dns-ttls/][Stop using ridiculously low DNS TTLs | Frank DENIS random thoughts.]]
- [[https://disnetern.ru/dig-10-samples-linux/][dig samples | IT Knowledge Base]]

* Ğ¡ĞºĞ¸Ğ´ĞºĞ¸

- [[https://ru.godaddy.com/tlds/org-domain?iphoneview=1&isc=rpacc19k&utm_source=gdredpoint&utm_medium=email&utm_campaign=ru-RU_other_email-nonrevenue_base_gd&utm_content=191106_4180_Engagement_Other_Product_Product-Notification_rpacc19k_4Y9rdxZ375nRC7KgRVqOGY][Ğ”Ğ¾Ğ¼ĞµĞ½ .orgÂ | Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ğ¾Ğµ Ğ¸Ğ¼Ñ .org ÑƒĞ¶Ğµ ÑĞµĞ³Ğ¾Ğ´Ğ½ÑÂ â€” GoDaddy RU]]

* Domain names

** Free domain names

  - [[https://habr.com/en/post/69973/]]
    - .tk â€” ÑÑ‚Ğ¾ Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´Ğ¾Ğ¼ĞµĞ½ Ğ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ¾Ğ² Ğ¢Ğ¾ĞºĞµĞ»Ğ°Ñƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ°Ñ‚ Ğº ĞĞ¾Ğ²Ğ¾Ğ¹ Ğ—ĞµĞ»Ğ°Ğ½Ğ´Ğ¸Ğ¸.
    - .ml â€” Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ¸Ñ‚ Ñ€ĞµÑĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞµ ĞœĞ°Ğ»Ğ¸;
    - .ga â€” Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ·Ğ½Ğ°Ğº Ğ“Ğ°Ğ±Ğ¾Ğ½ÑĞºĞ¾Ğ¹ Ñ€ĞµÑĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¸;
    - .cf â€” Ğ·Ğ¾Ğ½Ğ° Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ°Ñ„Ñ€Ğ¸ĞºĞ°Ğ½ÑĞºĞ¾Ğ¹ Ñ€ĞµÑĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¸;
    - .gq â€” ÑÑ‚Ğ¾ Ğ­ĞºĞ²Ğ°Ñ‚Ğ¾Ñ€Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ“Ğ²Ğ¸Ğ½ĞµÑ.

** Reserved
    - .local
    - .localdomain
    - .domain
    - .lan
    - .home
    - .host
    - .corp

* Hosting
- [[https://dual.my/][Dual.my - Free Dynamic/Static DNS hosting!]]

* Visualization

- [[http://dnsviz.net/]]

* dnssec
- [[https://sockpuppet.org/blog/2015/01/15/against-dnssec/][Against DNSSEC â€” Quarrelsome]]

* Cheat sheet

- Block resolving by DNS name
  : iptables -I OUTPUT -p udp -m udp --dport 53 -m string --string "example" --algo kmp -j DROP

- Get all records
  : dig @172.16.103.2 -tAXFR intr
  : dig @172.16.103.2 -tAXFR 16.172.in-addr.arpa

* Glue records

#+begin_example
  $ dig +short NS info.
  a2.info.afilias-nst.info.
  b0.info.afilias-nst.org.
  b2.info.afilias-nst.org.
  c0.info.afilias-nst.info.
  d0.info.afilias-nst.org.
  a0.info.afilias-nst.info.
#+end_example

#+begin_example
  $ dig +noall +authority +additional +norecurse @a2.info.afilias-nst.info. NS ns1.wugi.info.
  wugi.info.              3600    IN      NS      ns1.wugi.info.
  wugi.info.              3600    IN      NS      ns2.wugi.info.
  ns2.wugi.info.          3600    IN      A       78.108.92.69
  ns1.wugi.info.          3600    IN      A       78.108.82.44
#+end_example

* ChatGPT

** What is domain name max length?

The maximum length of a domain name is 253 characters according to the Internet Engineering Task Force (IETF) standard RFC 1035. This limit includes the entire domain name, including the dots used to separate the labels (individual parts of the domain name). However, some domain name systems may impose shorter limits. It is also important to note that each label within the domain name cannot be longer than 63 characters.

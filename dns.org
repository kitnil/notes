:PROPERTIES:
:ID:       ba8e53be-0c59-436f-8cb0-a1845f1086ad
:END:
#+title: DNS

* Learning
- [[https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/][Anatomy of a Linux DNS Lookup ‚Äì Part I ‚Äì zwischenzugs]]
  - [[https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/][Anatomy of a Linux DNS Lookup ‚Äì Part II ‚Äì zwischenzugs]]
  - [[https://zwischenzugs.com/2018/07/06/anatomy-of-a-linux-dns-lookup-part-iii/][Anatomy of a Linux DNS Lookup ‚Äì Part III ‚Äì zwischenzugs]]
  - [[https://zwischenzugs.com/2018/08/06/anatomy-of-a-linux-dns-lookup-part-iv/][Anatomy of a Linux DNS Lookup ‚Äì Part IV ‚Äì zwischenzugs]]
  - [[https://zwischenzugs.com/2018/09/13/anatomy-of-a-linux-dns-lookup-part-v-two-debug-nightmares/][Anatomy of a Linux DNS Lookup ‚Äì Part V ‚Äì Two Debug Nightmares ‚Äì zwischenzugs]]
- [[https://www.youtube.com/watch?v=BO-c69AxSis][(10) —Å—Ç—Ä–∏–º –±–æ–±—É–∫–∞ dns –Ω–∞ redis 2021.01.29 - YouTube]]
- [[https://tech-geek.ru/generating-records-for-address-ranges-bind/][–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∞–¥—Ä–µ—Å–æ–≤ BIND]]
- [[https://github.com/mwarning/SimpleDNS][mwarning/SimpleDNS: A very simple and small DNS Server to help understanding the protocol basics.]]

* Implementations
- [[https://github.com/coredns/coredns][coredns/coredns: CoreDNS is a DNS server that chains plugins]]
- [[https://github.com/pymumu/smartdns][pymumu/smartdns: A local DNS server to obtain the fastest website IP for the best Internet experience, support DoT, DoH. ‰∏Ä‰∏™Êú¨Âú∞DNSÊúçÂä°Âô®ÔºåËé∑ÂèñÊúÄÂø´ÁöÑÁΩëÁ´ôIPÔºåËé∑ÂæóÊúÄ‰Ω≥‰∏äÁΩë‰ΩìÈ™åÔºåÊîØÊåÅDoHÔºåDoT„ÄÇ]]

* Tools
- [[https://github.com/0xERR0R/blocky][0xERR0R/blocky: Fast and lightweight DNS proxy as ad-blocker for local network with many features]]
- [[https://github.com/62726164/dns-exfil][62726164/dns-exfil: A program to exfiltrate files from a computer using the DNS]]
- [[https://github.com/aaronjanse/dns-over-wikipedia][aaronjanse/dns-over-wikipedia: Redirect `.idk` domains using the official link found on a topic's Wikipedia page]]
- [[https://github.com/AdguardTeam/AdGuardHome][AdguardTeam/AdGuardHome: Network-wide ads & trackers blocking DNS server]]
- [[https://github.com/baibhavanand/DAC][baibhavanand/DAC: DAC - Domain Availability Checker is a tool written in bash to help people find available domains from the comfort of their terminal. People can choose to pass one domain or wordlist to scan the availability from. People can also choose to store the output (List of available domains) in a different text file.]]
- [[https://github.com/BeryJu/gravity][BeryJu/gravity: Fully-replicated DNS and DHCP Server with ad-blocking powered by etcd]]
- [[https://github.com/chenxiaolong/ddns-updater][chenxiaolong/ddns-updater: A simple RFC 2136 dynamic DNS updater]]
- [[https://github.com/cleanbrowsing/dnsperftest][cleanbrowsing/dnsperftest: DNS Performance test]]
- [[https://github.com/Control-D-Inc/ctrld][Control-D-Inc/ctrld: A highly configurable, multi-protocol DNS forwarding proxy]]
- [[https://github.com/devanshbatham/realm][devanshbatham/realm: A utility for recursively traversing SSL/TLS certificates for collecting DNS names]]
- [[https://github.com/DNSCrypt/dnscrypt-proxy][DNSCrypt/dnscrypt-proxy: dnscrypt-proxy 2 - A flexible DNS proxy, with support for encrypted DNS protocols.]]
- [[https://github.com/Dylnuge/dns-server-tests][Dylnuge/dns-server-tests: Some fun tests for DNS server implementers]]
- [[https://github.com/Edu4rdSHL/rusolver][Edu4rdSHL/rusolver: Fast DNS resolver written in Rust.]]
- [[https://github.com/Findomain/Findomain][Findomain/Findomain: The complete solution for domain recognition. Supports screenshoting, port scan, HTTP check, data import from other tools, subdomain monitoring, alerts via Discord, Slack and Telegram, multiple API Keys for sources and much more.]]
- [[https://github.com/gamelinux/passivedns][gamelinux/passivedns: A network sniffer that logs all DNS server replies for use in a passive DNS setup]]
- [[https://github.com/garywill/proxc][garywill/proxc: configure DNS/proxy for one process execution on Linux]]
- [[https://github.com/haccer/subjack][haccer/subjack: Subdomain Takeover tool written in Go]]
- [[https://github.com/hakluke/hakfindinternaldomains][hakluke/hakfindinternaldomains: Feed it a list of subdomains, it will resolve them and tell you which ones are internal]]
- [[https://github.com/hakluke/hakrevdns][hakluke/hakrevdns: Small, fast tool for performing reverse DNS lookups en masse.]]
- [[https://disnetern.ru/howto-nslookup-working-whith-dns/][Howto nslookup. –ü–æ–ª–µ–∑–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –î–ù–° | IT Knowledge Base]]
- [[https://github.com/IrineSistiana/mosdns][IrineSistiana/mosdns: Êèí‰ª∂ÂåñÁöÑ"ÂèØÁºñÁ®ã"ÁöÑ DNS ËΩ¨ÂèëÂô®„ÄÇmosdns is a "programmable" DNS forwarder.]]
- [[https://github.com/jamespwilliams/dns-over-ping][jamespwilliams/dns-over-ping: DNS-over-ping(8)]]
- [[https://github.com/Janik-Haag/NixOS-DNS][Janik-Haag/NixOS-DNS: Manage your dns zones with NixOS]]
- [[https://gitlab.com/jaytuck/bind-rest-api][Jay Tuckey / bind-rest-api ¬∑ GitLab]]
- [[https://github.com/Josue87/gotator][Josue87/gotator: Gotator is a tool to generate DNS wordlists through permutations.]]
- [[https://github.com/jvns/dns-doctor][jvns/dns-doctor: You give it a domain name where something is wrong, and it runs a bunch of checks to try to figure out the reason.]]
- [[https://github.com/jvns/dnspeep][jvns/dnspeep: spy on the DNS queries your computer is making]]
- [[https://github.com/jvns/tiny-resolver][jvns/tiny-resolver]]
- [[https://github.com/kirelagin/dns.nix][kirelagin/dns.nix: A Nix DSL for DNS zone files]]
- [[https://github.com/knadh/dns.toys][knadh/dns.toys: A DNS server that offers useful utilities and services over the DNS protocol.]]
  : dig moscow.time @dns.toys
  : dig moscow.weather @dns.toys
  : dig 1USD-RUB.fx @dns.toys
  : dig 10.0.0.0/24.cidr @dns.toys
  : dig 2001:db8::/108.cidr @dns.toys
- [[https://github.com/m13253/dns-over-https][m13253/dns-over-https: High performance DNS over HTTPS client & server]]
- [[https://github.com/moloch--/godns][moloch--/godns: The God Name Server]]
- [[https://github.com/mosajjal/dnsmonster][mosajjal/dnsmonster: Passive DNS Capture and Monitoring Toolkit]]
- [[https://github.com/mr-karan/doggo][mr-karan/doggo: Command-line DNS Client for Humans. Written in Golang]]
- [[https://github.com/mschwager/fierce][mschwager/fierce: A DNS reconnaissance tool for locating non-contiguous IP space.]]
- [[https://github.com/musana/mx-takeover][musana/mx-takeover: mx-takeover focuses DNS MX records and detects misconfigured MX records.]]
- [[https://github.com/n0mi1k/subby][n0mi1k/subby: An uber fast and simple subdomain enumeration tool using DNS and web requests with support for detecting wildcard DNS records.]]
- [[https://github.com/nextdns/nextdns][nextdns/nextdns: NextDNS CLI client (DoH Proxy)]]
- [[https://github.com/no-gravity/dns-here][no-gravity/dns-here: Run a temporary DNS server that resolves a given hostname to the current IP]]
- [[https://github.com/octodns/octodns][octodns/octodns: Tools for managing DNS across multiple providers]]
- [[https://github.com/one-d-wide/systemd-hosts.d][one-d-wide/systemd-hosts.d: Keep your hosts records in logically separated files]]
- [[https://wiki.archlinux.org/index.php/Openresolv][openresolv - ArchWiki]]
- [[https://github.com/pirxthepilot/wtfis][pirxthepilot/wtfis: Passive host and domain name lookup tool for non-robots]]
- [[https://github.com/projectdiscovery/dnsx][projectdiscovery/dnsx: dnsx is a fast and multi-purpose DNS toolkit allow to run multiple DNS queries of your choice with a list of user-supplied resolvers.]]
- [[https://github.com/projectdiscovery/subfinder][projectdiscovery/subfinder: Subfinder is a subdomain discovery tool that discovers valid subdomains for websites. Designed as a passive framework to be useful for bug bounties and safe for penetration testing.]]
- [[https://github.com/publicsuffix/list][publicsuffix/list: The Public Suffix List]]
- [[https://github.com/pwnesia/dnstake][pwnesia/dnstake: DNSTake ‚Äî A fast tool to check missing hosted DNS zones that can lead to subdomain takeover]]
- [[https://github.com/pymumu/smartdns][pymumu/smartdns: A local DNS server to obtain the fastest website IP for the best Internet experienceÔºå ‰∏Ä‰∏™Êú¨Âú∞DNSÊúçÂä°Âô®ÔºåËé∑ÂèñÊúÄÂø´ÁöÑÁΩëÁ´ôIPÔºåËé∑ÂæóÊúÄ‰Ω≥‰∏äÁΩë‰ΩìÈ™å„ÄÇ]]
- [[https://github.com/qdm12/ddns-updater][qdm12/ddns-updater: Container to update DNS records periodically with WebUI for many DNS providers]]
- [[https://github.com/qdm12/dns][qdm12/dns: Docker DNS server on steroids to access DNS-over-TLS from Cloudflare, Google, Quad9, Quadrant or CleanBrowsing]]
- [[https://github.com/rakyll/govalidate][rakyll/govalidate: Validates your Go installation and dependencies.]]
- [[https://github.com/Reeceeboii/Pi-CLI][Reeceeboii/Pi-CLI: Pi-hole data right from your terminal. Live updating view, query history extraction and more!]]
- [[https://github.com/sammwyy/mindns][sammwyy/mindns: Minimal DNS server built in Rust with rule system and logging.]]
- [[https://github.com/StackExchange/dnscontrol][StackExchange/dnscontrol: Synchronize your DNS to multiple providers from a simple DSL]]
- [[https://github.com/tomnomnom/assetfinder][tomnomnom/assetfinder: Find domains and subdomains related to a given domain]]
- [[https://github.com/trickest/resolvers][trickest/resolvers: The most exhaustive list of reliable DNS resolvers.]]
- [[https://github.com/Twixes/backname][Twixes/backname: üåê A DNS server where every IP address gets its own domain]]
- [[https://github.com/wyhaya/updns][wyhaya/updns: DNS proxy tool]]
- [[https://github.com/yinheli/kungfu][yinheli/kungfu: Flexible DNS hijacking and proxy tool.]]

** DDoS
- [[https://github.com/thesc1ent1st/j0lt-ddos-tool][thesc1ent1st/j0lt-ddos-tool: Brutally effective DNS amplification DDOS tool. Will cripple a target machine from a single host.]]
- [[https://powerdns.org/dnsdist-md/dnsdist-diagrams.md.html][dnsdist fundamentals]]

** Services
- [[https://github.com/is-a-dev/register][is-a-dev/register: Grab your own sweet-looking '.is-a.dev' subdomain]]

- https://www.namecheap.com/

- [[https://www.gandi.net/en][Gandi.net: Domain Names, Web Hosting, SSL Certificates]]
Buy a domain name at a service like Gandi: https://www.gandi.net/.  They offer
free mail hosting for their subscribers

- majordomo.ru
–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –≤ –∑–æ–Ω–µ .info –±—É–¥–µ—Ç 16 –±–∞–∫—Å–æ–≤ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ —Å–æ—Ç–Ω–∏ (1200 —Ä—É–±–ª–µ–π –≤—ã—Ö–æ–¥–∏—Ç).  –≠—Ç–æ –ø–æ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

** REST
- [[https://github.com/openstack/designate][openstack/designate: OpenStack DNS As A Service (Designate). Mirror of code maintained at opendev.org.]]

** Dynamic DNS
- [[https://github.com/theonemule/no-ip][theonemule/no-ip: A shell script that works as Dynamic Update Client (DUC) for noip.com]]
- [[https://github.com/theonemule/docker-dynamic-dns][docker-dynamic-dns]]

** Bind
- [[https://disnetern.ru/howto-dns-server-bind/][HOWTO DNS —Å–µ—Ä–≤–µ—Ä BIND | IT Knowledge Base]]

** PDNS
- [[https://github.com/tuxis-ie/nsedit][tuxis-ie/nsedit: DNS Editor working with PowerDNS's new API]]
- [[https://github.com/odoucet/pdns-gui][odoucet/pdns-gui: pdns-gui fork]]

** Recursive
- [[https://github.com/NLnetLabs/unbound][NLnetLabs/unbound: Unbound is a validating, recursive, and caching DNS resolver.]]

** Unbound
- [[https://vermaden.wordpress.com/2020/11/18/unbound-dns-blacklist/][Unbound DNS Blacklist | ùöüùöéùöõùöñùöäùöçùöéùöó]]

* Learning
- [[https://www.go350.com/posts/exfiltrate-files-using-the-dns/][Exfiltrate files using the DNS | Go350]]
- [[https://00f.net/2019/11/03/stop-using-low-dns-ttls/][Stop using ridiculously low DNS TTLs | Frank DENIS random thoughts.]]
- [[https://disnetern.ru/dig-10-samples-linux/][dig samples | IT Knowledge Base]]

* –°–∫–∏–¥–∫–∏

- [[https://ru.godaddy.com/tlds/org-domain?iphoneview=1&isc=rpacc19k&utm_source=gdredpoint&utm_medium=email&utm_campaign=ru-RU_other_email-nonrevenue_base_gd&utm_content=191106_4180_Engagement_Other_Product_Product-Notification_rpacc19k_4Y9rdxZ375nRC7KgRVqOGY][–î–æ–º–µ–Ω .org¬†| –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è .org —É–∂–µ —Å–µ–≥–æ–¥–Ω—è¬†‚Äî GoDaddy RU]]

* Domain names

** Free domain names

  - [[https://habr.com/en/post/69973/]]
    - .tk ‚Äî —ç—Ç–æ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –æ—Å—Ç—Ä–æ–≤–æ–≤ –¢–æ–∫–µ–ª–∞—É, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∫ –ù–æ–≤–æ–π –ó–µ–ª–∞–Ω–¥–∏–∏.
    - .ml ‚Äî –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ä–µ—Å–ø—É–±–ª–∏–∫–µ –ú–∞–ª–∏;
    - .ga ‚Äî –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–Ω–∞–∫ –ì–∞–±–æ–Ω—Å–∫–æ–π —Ä–µ—Å–ø—É–±–ª–∏–∫–∏;
    - .cf ‚Äî –∑–æ–Ω–∞ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–∞—Ñ—Ä–∏–∫–∞–Ω—Å–∫–æ–π —Ä–µ—Å–ø—É–±–ª–∏–∫–∏;
    - .gq ‚Äî —ç—Ç–æ –≠–∫–≤–∞—Ç–æ—Ä–∏–∞–ª—å–Ω–∞—è –ì–≤–∏–Ω–µ—è.

** Reserved
    - .local
    - .localdomain
    - .domain
    - .lan
    - .home
    - .host
    - .corp

* Hosting
- [[https://dual.my/][Dual.my - Free Dynamic/Static DNS hosting!]]

* Visualization

- [[http://dnsviz.net/]]

* dnssec
- [[https://sockpuppet.org/blog/2015/01/15/against-dnssec/][Against DNSSEC ‚Äî Quarrelsome]]

* Cheat sheet

- Block resolving by DNS name
  : iptables -I OUTPUT -p udp -m udp --dport 53 -m string --string "example" --algo kmp -j DROP

- Get all records
  : dig @172.16.103.2 -tAXFR intr
  : dig @172.16.103.2 -tAXFR 16.172.in-addr.arpa

* Glue records

#+begin_example
  $ dig +short NS info.
  a2.info.afilias-nst.info.
  b0.info.afilias-nst.org.
  b2.info.afilias-nst.org.
  c0.info.afilias-nst.info.
  d0.info.afilias-nst.org.
  a0.info.afilias-nst.info.
#+end_example

#+begin_example
  $ dig +noall +authority +additional +norecurse @a2.info.afilias-nst.info. NS ns1.wugi.info.
  wugi.info.              3600    IN      NS      ns1.wugi.info.
  wugi.info.              3600    IN      NS      ns2.wugi.info.
  ns2.wugi.info.          3600    IN      A       78.108.92.69
  ns1.wugi.info.          3600    IN      A       78.108.82.44
#+end_example

* ChatGPT

** What is domain name max length?

The maximum length of a domain name is 253 characters according to the Internet Engineering Task Force (IETF) standard RFC 1035. This limit includes the entire domain name, including the dots used to separate the labels (individual parts of the domain name). However, some domain name systems may impose shorter limits. It is also important to note that each label within the domain name cannot be longer than 63 characters.
